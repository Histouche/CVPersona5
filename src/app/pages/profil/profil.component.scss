@import "./../../../variables.scss";
app-profil{
    z-index: 2;
    height: 100vh;
    background-image: url('/assets/img/backgrounds/velvet_room_bg.webp');
    background-size: 100% auto;
    background-position: center;
    background-repeat: no-repeat;
    position: relative;
    display: flex;
    flex: 0 0 100%;
    max-width: 100%;
    @media (max-aspect-ratio: 16 / 9){
        background-size: auto 100%;
    }
    .profil{
        position: relative;
        display: flex;
        flex: 0 0 100%;
        max-width: 100%;
        flex-wrap: wrap;
        justify-content: center;
        align-items: center;
        /* 
        * Jail animation
        */
        &__barreau{
            pointer-events: none;
            position: fixed;
            z-index: 2;
            height: 100%;
            width: 150%;
            opacity: 0.9;
            animation: jail forwards 1s;
            @media screen and (min-width: 768px) {
                width: 100%;
            }
            @media screen and (min-width: 1024px) {
                height: auto;
            }
            @media (max-aspect-ratio: 16 / 9){
               bottom: 0;
            }
        }
        @keyframes jail {
            from{
                transform: translateY(-100%);
            }
            90%{
                transform: translateY(0%);
            }
            96%{
                transform: translateY(-5%);
            }
            to{
                transform: translateY(0%);
            }
        }
        /* 
        * Justine pose & animation
        */
        &__justine{
            position: fixed;
            z-index: 3;
            width: 50%;
            right: -25%;
            bottom: -100%;
            animation: justinePop forwards 1s;
            animation-delay: 1.5s;
            @media screen and (min-width: 768px) {
                right: 0;
                transform: scale(1.5);
            }
            @media screen and (min-width: 1024px) {
                transform: scale(1);
            }
            @media screen and (min-width: 1200px) {
                right: 6%;
            }
            @keyframes justinePop {
                0%{
                    bottom: -100%;
                }
                70%{
                    bottom: 2%;
                }
                90%{
                    bottom: 0%
                }
                100%{
                    bottom: 0%
                }
            }
            &__body{
                position: relative;
                float: right;
                width: 300px;
            }
            &__eye{
                background-image: url('/assets/img/profil/justine_eye.png');
                background-repeat: no-repeat;
                background-size: 100% auto;
                background-position: center;
                position: absolute;
                right: 120px;
                top: 85px;
                width: 46px;
                height: 38.5px;
                animation: justineEye infinite 6s;
            }
            @keyframes justineEye{
                0%{
                    transform: scaleY(1);
                }
                12%{
                    transform: scaleY(1);
                    background-image: url('/assets/img/profil/justine_eye_2.png');
                }
                30%{
                    transform: scaleY(1);
                    background-image: url('/assets/img/profil/justine_eye.png');
                }
                
            }
            &__hair{
                &__1{
                    position: absolute;
                    width: 50px;
                    right: 201px;
                    top: 171.5px;
                    transform: rotate(15deg) translate(-6px, -4px);
                    animation: justineAir1 infinite 8s;
                }
                @keyframes justineAir1 {
                   0%{
                       transform: rotate(0deg) translate(0px, 0px);
                   } 
                   50%{
                        transform: rotate(15deg) translate(-6px, -4px);
                   }
                   52%{
                        transform: rotate(15deg) translate(-6px, -4px);
                    }
                   100%{
                        transform: rotate(0deg) translate(0px, 0px);
                   }
                }
                &__2{
                    position: absolute;
                    width: 38.5px; 
                    right: 221px;
                    top: 228px;
                    transform: rotate(-4deg) translate(-8px, -9px);
                    animation: justineAir2 infinite 8s;
                }
                @keyframes justineAir2 {
                    0%{
                        transform: rotate(0deg) translate(0px, 0px);
                    }
                    50%{
                        transform: rotate(-4deg) translate(-8px, -9px);
                    }
                    52%{
                        transform: rotate(-4deg) translate(-8px, -9px);
                    }
                    100%{
                        transform: rotate(0deg) translate(0px, 0px);
                    }
                }
                &__3{
                    position: absolute;
                    width: 35px;
                    top: 259px;
                    right: 219px;
                    transform: rotate(10deg) translate(-14px, -6px);
                    animation: justineAir3 infinite 8s;
                }
                @keyframes justineAir3 {
                    0%{
                        transform: rotate(0deg) translate(0px, 0px);
                    }
                    50%{
                        transform: rotate(10deg) translate(-14px, -6px);
                    }
                    52%{
                        transform: rotate(10deg) translate(-14px, -6px);
                    }
                    100%{
                        transform: rotate(0deg) translate(0px, 0px);
                    }
                }
                &__4{
                    position: absolute;
                    width: 38.5px;
                    top: 315px;
                    right: 201px;
                    animation: justineAir4 infinite 8s;
                }
                @keyframes justineAir4 {
                    0%{
                        transform: rotate(0deg) translate(0px, 0px);
                    }
                    50%{
                        transform: rotate(15deg) translate(-25px, 0px)
                    }
                    52%{
                        transform: rotate(15deg) translate(-25px, 0px)
                    }
                    100%{
                        transform: rotate(0deg) translate(0px, 0px);
                    }
                }
            }
        }
        /* 
        * Caroline pose & animation
        */
        &__caroline{
            position: fixed;
            z-index: 3;
            width: 50%;
            left: -25%;
            bottom : -100%;
            animation: carolinePop forwards 1s;
            animation-delay: 1.5s;
            @keyframes carolinePop {
                0%{
                    bottom: -100%;
                }
                70%{
                    bottom: 2%;
                }
                90%{
                    bottom: 0%
                }
                100%{
                    bottom: 0%
                }
            }
            @media screen and (min-width: 768px) {
               transform: scale(1.5);
               left: 0;
            }
            @media screen and (min-width: 1024px) {
                transform: scale(1);
            }
            @media screen and (min-width: 1200px) {
                left: 6%;
            }
            
            &__body{
                position: relative;
                float: left;
                width: 325px;
            }
            &__eye{
                background-image: url('/assets/img/profil/caroline_eye.png');
                background-repeat: no-repeat;
                background-size: 100% auto;
                background-position: center;
                position: absolute;
                left: 153px;
                top: 90px;
                width: 36px;
                height: 36px;
                animation: carolineEye infinite 6s;
                animation-delay: 2s;
            }
            @keyframes carolineEye{
                0%{
                    transform: scaleY(1);
                }
                12%{
                    transform: scaleY(1);
                    background-image: url('/assets/img/profil/caroline_eye_2.png');
                }
                30%{
                    transform: scaleY(1);
                    background-image: url('/assets/img/profil/caroline_eye.png');
                }
                
            }
            &__tie{
                position: absolute;
                width: 60.5px;
                left: 51px;
                top: 297px;
                animation: carolineTie infinite 8s;
            }
            @keyframes carolineTie {
                0%{
                    transform: rotate(0deg) translate(0px, 0px);
                }
                50%{
                    transform: rotate(10deg) translate(-8px, -3px);
                }
                52%{
                    transform: rotate(10deg) translate(-8px, -3px);
                }
                100%{
                    transform: rotate(0deg) translate(0px, 0px);
                }
            }
        }
        /*
        * SMOKE ANIMATION
        */
        &__smoke{
            pointer-events: none;
            z-index: 4;
            position: fixed;
            top: 0;
            img{
                width: 100%;
                //filter: hue-rotate(200deg);
                animation: goRed 8s forwards;
            }
            @keyframes goRed{
                0%{
                    opacity: 0;  
                }
                90%{
                    //filter: hue-rotate(200deg);
                }
                100%{
                    opacity: 1;
                    //filter: hue-rotate(0deg);
                }
            }
            &__1{
                z-index: -1;
                position: absolute;
                top: 0;
                right: 0;

                -webkit-animation: an-smoke-1 10s ease-in-out infinite;
                -moz-animation: an-smoke-1 10s ease-in-out infinite;
                -o-animation: an-smoke-1 10s ease-in-out infinite;
                animation: an-smoke-1 10s ease-in-out infinite;
            }
            @keyframes an-smoke-1 {
                0% {
                  opacity: 0;
              
                  -webkit-transform: translateY(5%) rotate(.01deg);
                  -moz-transform: translateY(5%) rotate(.01deg);
                  -o-transform: translateY(5%) rotate(.01deg);
                  transform: translateY(5%) rotate(.01deg);
                }
                50% {
                  opacity: .9;
                }
                90%{
                    opacity: 0.2;
                }
                to {
                  opacity: 0;
              
                  -webkit-transform: translateY(0) rotate(.01deg);
                  -moz-transform: translateY(0) rotate(.01deg);
                  -o-transform: translateY(0) rotate(.01deg);
                  transform: translateY(0) rotate(.01deg);
                }
            }
            .ag-smoke__delay-1 {
                -webkit-animation-delay: 2s;
                -moz-animation-delay: 2s;
                -o-animation-delay: 2s;
                animation-delay: 2s;
            }
            .ag-smoke__delay-2 {
                -webkit-animation-delay: 4s;
                -moz-animation-delay: 4s;
                -o-animation-delay: 4s;
                animation-delay: 4s;
            } 
            &__2{
                width: 57.1em;
                z-index: -2;
                top: 7em;
            }
            &__2, &__3{
                position: absolute;
                left: 0;

                -webkit-animation: an-smoke-2 10s ease-in-out infinite;
                -moz-animation: an-smoke-2 10s ease-in-out infinite;
                -o-animation: an-smoke-2 10s ease-in-out infinite;
                animation: an-smoke-2 10s ease-in-out infinite;
            }
            @keyframes an-smoke-2 {
                0% {
                  opacity: 0;
              
                  -webkit-transform: translate(-10%, 10%) rotate(.01deg);
                  -moz-transform: translate(-10%, 10%) rotate(.01deg);
                  -o-transform: translate(-10%, 10%) rotate(.01deg);
                  transform: translate(-10%, 10%) rotate(.01deg);
                }
                50% {
                  opacity: .9;
                }
                90%{
                    opacity: 0.2;
                }
                to {
                  opacity: 0;
              
                  -webkit-transform: translateY(5%) rotate(.01deg);
                  -moz-transform: translateY(5%) rotate(.01deg);
                  -o-transform: translateY(5%) rotate(.01deg);
                  transform: translateY(5%) rotate(.01deg);
                }
              }
            &__3{
                width: 100%;

                z-index: -4;
                top: -32em;
            }
            
            &__4{
                width: 61.4em;

                z-index: -3;
                position: absolute;
                top: 12em;
                right: 0;

                -webkit-animation: an-smoke-3 10s ease-in-out infinite;
                -moz-animation: an-smoke-3 10s ease-in-out infinite;
                -o-animation: an-smoke-3 10s ease-in-out infinite;
                animation: an-smoke-3 10s ease-in-out infinite;
            }
            @keyframes an-smoke-3 {
                0% {
                  opacity: 0.1;
              
                  -webkit-transform: translateY(10%) rotate(.01deg);
                  -moz-transform: translateY(10%) rotate(.01deg);
                  -o-transform: translateY(10%) rotate(.01deg);
                  transform: translateY(10%) rotate(.01deg);
                }
                50% {
                  opacity: .9;
                }
                90%{
                    opacity: 0.2;
                }
                to {
                  opacity: 0.1;
              
                  -webkit-transform: translate(-10%, 5%) rotate(.01deg);
                  -moz-transform: translate(-10%, 5%) rotate(.01deg);
                  -o-transform: translate(-10%, 5%) rotate(.01deg);
                  transform: translate(-10%, 5%) rotate(.01deg);
                }
            }

            &__format-container{
                width: 100vw;
                margin: 0 auto;
            }
        }

        /*
        * SPIKES 
        */
        &__spike{
            position: fixed;
            z-index: 5;
            width: 100vw;
            height: 100vh;
            pointer-events: none;
            &__left{
                &__img{
                    pointer-events: all;
                    width: 250px;
                    height: 250px;
                    top: 50%;
                    position: absolute;
                    background-image: url('/assets/img/profil/spike_left.png');
                    background-repeat: no-repeat;
                    background-size: contain;
                    background-position: center;
                    cursor: pointer;
                    transform: translate(-30px, -44%);
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    flex-wrap: wrap;
                    flex-direction: column;
                    @media screen and (min-width: 768px) {
                        width: 400px;
                        height: 400px;
                        top: 70%;
                        left: 10%;
                    }
                    @media screen and (min-width: 1024px) {
                        width: 400px;
                        height: 400px;
                        top: 40%;
                        left: 25%;
                    }
                    &__text__1, &__text__2{
                        font-family: "Personified UX Regular";
                        color: #fff;
                        text-align: center;
                        font-size: 30px;
                        transform: rotate(-15deg);
                        @media screen and (min-width: 768px) {
                            font-size: 50px;
                        }
                        @media screen and (min-width: 1024px) {

                        }
                    }
                    &__text__2{
                        font-family: "Personified UX Regular";
                        color: #fff;
                        text-align: center;
                        font-size: 18px;
                        @media screen and (min-width: 768px) {
                            font-size: 30px;
                        }
                        @media screen and (min-width: 1024px) {
                          font-size: 25px;  
                        }
                    }
                    &:after{
                        content: "";
                        position: absolute;
                        z-index: -1;
                        width: 50%;
                        height: 50%;
                        background-color: $red;
                        clip-path: polygon(90% 15%, 0 55%, 40% 100%);
                        opacity: 0;
                        transition: opacity linear 0.1s;
                        animation: hoverLeft infinite 2s;
                    }
                    &:hover{
                        &:after{
                            content: "";
                            position: absolute;
                            opacity: 1;
                        }
                    }
                    @keyframes hoverLeft {
                        from{
                            clip-path: polygon(90% 15%, 0 55%, 40% 100%);
                        }
                        50%{
                            clip-path: polygon(100% 50%, 15% 20%, 50% 100%);
                        }
                        to{
                            clip-path: polygon(90% 15%, 0 55%, 40% 100%);
                        }
                    }
                    z-index: 3;
                    &.active{
                        animation : spikeLeftOpen 2s forwards;
                        @media screen and (min-width: 768px){
                            animation : spikeLeftOpenTab 2s forwards;
                        }
                        @media screen and (min-width: 1024px){
                            animation : spikeLeftOpenDesk 2s forwards;
                        }
                        z-index: 5;
                    }
                    @keyframes spikeLeftOpen {
                        0%{
                            transform: translate(-30px, -44%);
                        }
                        45%{
                            transform: scale(4) rotate(180deg) translate(-15px, 10%);
                        }
                        55%{
                            transform: scale(4) rotate(180deg) translate(-15px, 10%);
                        }
                        100%{
                            transform: translate(-70px, 75%);
                        }
                    }
                    @keyframes spikeLeftOpenTab {
                        0%{
                            transform: translate(-30px, -44%);
                        }
                        45%{
                            transform: scale(4) rotate(180deg) translate(-30px, 25%);
                        }
                        55%{
                            transform: scale(4) rotate(180deg) translate(-30px, 25%);
                        }
                        100%{
                            transform: translate(-100px, 10%);
                        }
                    }
                    @keyframes spikeLeftOpenDesk {
                        0%{
                            transform: translate(-30px, -44%);
                        }
                        45%{
                            transform: scale(2) rotate(180deg) translate(-50px, 10%);
                        }
                        55%{
                            transform: scale(2) rotate(180deg) translate(-50px, 10%);
                        }
                        100%{
                            transform: translate(-225px, 30%);
                        }
                    }
                    transition: all linear 0.5s;
                    &.lv2{
                        transform: translate(-70px, 75%);
                        @media screen and (min-width: 768px){
                            transform: translate(-100px, 10%);
                        }
                        @media screen and (min-width: 1024px){
                            transform: translate(-225px, 30%);
                        }
                    }
                }
            }
            &__right{
                &__img{
                    pointer-events: all;
                    width: 220px;
                    height: 220px;
                    top: 50%;
                    right: 0;
                    position: absolute;
                    background-image: url('/assets/img/profil/spike_right.png');
                    background-repeat: no-repeat;
                    background-size: contain;
                    background-position: center;
                    cursor: pointer;
                    transform: translate(35px, -42%);
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    flex-wrap: wrap;
                    flex-direction: column;
                    @media screen and (min-width: 768px) {
                        width: 320px;
                        height: 320px;
                        top: 70%;
                        right: 10%;
                    }
                    @media screen and (min-width: 1024px) {
                        width: 350px;
                        height: 350px;
                        top: 55%;
                        right: 25%;
                    }
                    &__text__1, &__text__2{
                        font-family: "Personified UX Regular";
                        color: #fff;
                        text-align: center;
                        font-size: 26px;
                        transform: rotate(15deg);
                        @media screen and (min-width: 768px) {
                            font-size: 45px;
                        }
                        @media screen and (min-width: 1024px) {
                            font-size: 40px;
                        }
                    }
                    &__text__2{
                        font-family: "Personified UX Regular";
                        color: #fff;
                        text-align: center;
                        font-size: 24px;
                        @media screen and (min-width: 768px) {
                            font-size: 30px;
                        }
                        @media screen and (min-width: 1024px) {
                            font-size: 30px;
                        }
                    }
                    &:after{
                        content: "";
                        position: absolute;
                        z-index: -1;
                        opacity: 0;
                        width: 50%;
                        height: 50%;
                        background-color: $red;
                        clip-path: polygon(0% 20%, 100% 15%, 80% 100%);
                        animation: hoverRight infinite 2s;
                        transition: opacity linear 0.1s;
                    }
                    &:hover{
                        &:after{
                            content: "";
                            position: absolute;
                            opacity: 1;
                        }
                    }
                    @keyframes hoverRight {
                        from{
                            clip-path: polygon(0% 20%, 100% 15%, 80% 100%);
                        }
                        50%{
                            clip-path: polygon(0% 80%, 50% 0%, 100% 70%);
                        }
                        to{
                            clip-path: polygon(0% 20%, 100% 15%, 80% 100%);
                        }
                    }
                    z-index: 3;
                    &.active{
                        z-index: 5;
                        animation : spikeRightOpen 2s forwards;
                        @media screen and (min-width: 768px){
                            animation : spikeRightOpenTab 2s forwards;
                        }
                        @media screen and (min-width: 1024px){
                            animation : spikeRightOpenDesk 2s forwards;
                        }
                    }
                    @keyframes spikeRightOpen {
                        0%{
                            transform: translate(35px, -42%);
                        }
                        45%{
                            transform: scale(4) rotate(180deg) translate(20px, 10%);
                        }
                        55%{
                            transform: scale(4) rotate(180deg) translate(20px, 10%);
                        }
                        100%{
                            transform: translate(45px, 95%);
                        }
                    }
                    @keyframes spikeRightOpenTab {
                        0%{
                            transform: translate(35px, -42%);
                        }
                        45%{
                            transform: scale(4) rotate(180deg) translate(35px, 30%);
                        }
                        55%{
                            transform: scale(4) rotate(180deg) translate(35px, 30%);
                        }
                        100%{
                            transform: translate(75px, 25%);
                        }
                    }
                    @keyframes spikeRightOpenDesk {
                        0%{
                            transform: translate(35px, -42%);
                        }
                        45%{
                            transform: scale(2) rotate(180deg) translate(35px, 30%);
                        }
                        55%{
                            transform: scale(2) rotate(180deg) translate(35px, 30%);
                        }
                        100%{
                            transform: translate(175px, 8%);
                        }
                    }
                    transition: all linear 0.5s;
                    &.lv2{
                        transform: translate(45px, 95%);
                        @media screen and (min-width: 768px) {
                            transform: translate(75px, 25%);
                        }
                        @media screen and (min-width: 1024px) {
                            transform: translate(175px, 8%);
                        }
                    }
                }     
            }
        }
        &__content{
            position: relative;
            display: flex;
            flex-wrap: wrap;
            align-content: flex-start;
            justify-content: center;
            flex: 0 0 90%;
            max-width: 90%;
            transform: scale(0);
            z-index: 0;
            background-color: #fff;
            transition: transform linear 0.8s;
            height: calc(100% - 200px);
            clip-path: polygon(95% 4%, 98% 29%, 96% 39%, 99% 65%, 96% 95%, 4% 98%, 3% 45%, 5% 38%, 2% 6%);
            color: #fff;
            padding: 50px 20px;
            overflow-y: auto;
            @media screen and (min-width: 768px){
                padding: 80px 50px;
            }
            @media screen and (min-width: 1024px){
                flex: 0 0 55%;
                max-width: 55%;
                padding: 65px 65px;
            }
            &:before{
                content: "";
                position: absolute;
                z-index: -1;
                top: 1.5%;
                width: 96%;
                height: 97%;
                background-color: #000;
                clip-path: polygon(95% 4%, 98% 29%, 96% 39%, 99% 65%, 96% 95%, 4% 98%, 3% 45%, 5% 38%, 2% 6%);
            }
            &.active{
                animation: contentActivation 1.5s forwards;
            }
            @keyframes contentActivation {
                0%{
                    z-index: 0;
                    transform: scale(0);
                }
                85%{  
                    z-index: 4;
                    transform: scale(1.2);
                }
                100%{
                    z-index: 4;
                    transform: scale(1);
                }
            }
            &__block{
                flex: 0 0 100%;
                max-width: 100%;
                display: none;
                &.left{
                    display: flex;
                }
                &__infos{
                    display: flex;
                    flex-wrap: wrap;
                    flex: 0 0 100%;
                    max-width: 100%;
                    &__photo{
                        position: relative;
                        display: flex;
                        flex: 0 0 50%;
                        max-width: 50%;
                        @media screen and (min-width: 540px){
                            flex: 0 0 33%;
                            max-width: 33%;
                        }
                        @media screen and (min-width: 1024px){
                            flex: 0 0 25%;
                            max-width: 25%;
                        }
                        &__img{
                            position: relative;
                            max-width: 100%;
                            width: 100%;
                            height: auto;
                        }
                        &:before{
                            content: "";
                            position: absolute;
                            z-index: -1;
                            background-color: $red;
                            width: 100%;
                            height: 100%;
                            transform: rotate(5deg) translate(7px, -2px);
                        }
                    }
                    &__reseaux{
                        display: flex;
                        flex: 0 0 50%;
                        max-width: 50%; 
                    }
                }
                &__text{
                    display: flex;
                    flex-wrap: wrap;
                    flex: 0 0 100%;
                    max-width: 100%;
                }
            }
            &__ci{
                display: none;
                flex: 0 0 100%;
                max-width: 100%;
                flex-wrap: wrap;
                &.right{
                    display: flex;
                }
            }
        }
    }
}